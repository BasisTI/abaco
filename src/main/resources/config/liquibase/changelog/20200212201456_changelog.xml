<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
   <changeSet author="basis (generated)" id="1581538507561-1">
      <createTable tableName="baseline_analitico">
         <column name="row_number" type="BIGINT">
            <constraints nullable="false"/>
         </column>
         <column name="analise_id" type="BIGINT"/>
         <column name="classificacao" type="VARCHAR(255)"/>
         <column name="complexidade" type="VARCHAR(255)"/>
         <column name="data_homologacao_software" type="VARCHAR(255)"/>
         <column name="der" type="numeric(19, 2)"/>
         <column name="equipe_responsavel_id" type="BIGINT"/>
         <column name="id_funcao_dados" type="BIGINT"/>
         <column name="id_sistema" type="BIGINT"/>
         <column name="impacto" type="VARCHAR(255)"/>
         <column name="name" type="VARCHAR(255)"/>
         <column name="nome" type="VARCHAR(255)"/>
         <column name="nome_equipe" type="VARCHAR(255)"/>
         <column name="nome_funcionalidade" type="VARCHAR(255)"/>
         <column name="nome_modulo" type="VARCHAR(255)"/>
         <column name="pf" type="numeric(19, 2)"/>
         <column name="rlr_alr" type="numeric(19, 2)"/>
         <column name="sigla" type="VARCHAR(255)"/>
         <column name="tipo" type="VARCHAR(255)"/>
      </createTable>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-2">
      <createTable tableName="baseline_sintetico">
         <column name="row_number" type="BIGINT">
            <constraints nullable="false"/>
         </column>
         <column name="equipe_responsavel_id" type="BIGINT"/>
         <column name="id_sistema" type="BIGINT"/>
         <column name="nome" type="VARCHAR(255)"/>
         <column name="nome_equipe" type="VARCHAR(255)"/>
         <column name="numero_ocorrencia" type="VARCHAR(255)"/>
         <column name="sigla" type="VARCHAR(255)"/>
         <column name="sum" type="numeric(10, 2)"/>
      </createTable>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-3">
      <createTable tableName="grupo">
         <column name="id_analise" type="BIGINT">
            <constraints nullable="false"/>
         </column>
         <column name="bloqueado" type="BOOLEAN"/>
         <column name="data_criacao" type="TIMESTAMP WITHOUT TIME ZONE"/>
         <column name="data_homologacao" type="TIMESTAMP WITHOUT TIME ZONE"/>
         <column name="dias_de_garantia" type="INT"/>
         <column name="equipe" type="VARCHAR(255)"/>
         <column name="identificador_analise" type="VARCHAR(255)"/>
         <column name="metodo_contagem" type="VARCHAR(255)"/>
         <column name="organizacao" type="VARCHAR(255)"/>
         <column name="pf_ajustado" type="VARCHAR(255)"/>
         <column name="pf_total" type="VARCHAR(255)"/>
         <column name="sistema" type="VARCHAR(255)"/>
      </createTable>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-4">
      <createTable tableName="impacto">
         <column name="id" type="BIGINT">
            <constraints nullable="false"/>
         </column>
         <column name="descricao" type="VARCHAR(255)"/>
      </createTable>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-5">
      <createTable tableName="pe_analitico">
         <column name="row_number" type="BIGINT">
            <constraints nullable="false"/>
         </column>
         <column name="analise_id" type="BIGINT"/>
         <column name="classificacao" type="VARCHAR(255)"/>
         <column name="complexidade" type="VARCHAR(255)"/>
         <column name="data_homologacao_software" type="VARCHAR(255)"/>
         <column name="der" type="numeric(19, 2)"/>
         <column name="equipe_responsavel_id" type="BIGINT"/>
         <column name="id_funcao_dados" type="BIGINT"/>
         <column name="id_sistema" type="BIGINT"/>
         <column name="impacto" type="VARCHAR(255)"/>
         <column name="name" type="VARCHAR(255)"/>
         <column name="nome" type="VARCHAR(255)"/>
         <column name="nome_equipe" type="VARCHAR(255)"/>
         <column name="nome_funcionalidade" type="VARCHAR(255)"/>
         <column name="nome_modulo" type="VARCHAR(255)"/>
         <column name="pf" type="numeric(19, 2)"/>
         <column name="rlr_alr" type="numeric(19, 2)"/>
         <column name="sigla" type="VARCHAR(255)"/>
         <column name="tipo" type="VARCHAR(255)"/>
      </createTable>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-6">
      <addPrimaryKey columnNames="row_number"
                     constraintName="baseline_analiticoPK"
                     tableName="baseline_analitico"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-7">
      <addPrimaryKey columnNames="row_number"
                     constraintName="baseline_sinteticoPK"
                     tableName="baseline_sintetico"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-8">
      <addPrimaryKey columnNames="id_analise" constraintName="grupoPK" tableName="grupo"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-9">
      <addPrimaryKey columnNames="id" constraintName="impactoPK" tableName="impacto"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-10">
      <addPrimaryKey columnNames="row_number"
                     constraintName="pe_analiticoPK"
                     tableName="pe_analitico"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-11">
      <addUniqueConstraint columnNames="nome"
                           constraintName="UC_FUNCAO_DADOS_VERSIONAVELNOME_COL"
                           tableName="funcao_dados_versionavel"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-12">
      <addUniqueConstraint columnNames="descricao"
                           constraintName="UC_IMPACTODESCRICAO_COL"
                           tableName="impacto"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-13">
      <addForeignKeyConstraint baseColumnNames="user_id"
                               baseTableName="jhi_user_authority"
                               constraintName="FK290okww5jujghp4el5i7mgwu0"
                               deferrable="false"
                               initiallyDeferred="false"
                               referencedColumnNames="id"
                               referencedTableName="jhi_user"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-14">
      <dropForeignKeyConstraint baseTableName="analise_compartilhada"
                                constraintName="fk_equipe_analise_id"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-15">
      <dropUniqueConstraint constraintName="jhi_social_user_connection_user_id_provider_id_provider_use_key"
                            tableName="jhi_social_user_connection"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-16">
      <dropUniqueConstraint constraintName="jhi_social_user_connection_user_id_provider_id_rank_key"
                            tableName="jhi_social_user_connection"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-17">
      <dropView viewName="baseline_analitico"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-18">
      <dropView viewName="baseline_sintetico"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-19">
      <dropView viewName="grupo"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-20">
      <dropView viewName="pe_analitico"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-21">
      <dropNotNullConstraint columnDataType="bigint"
                             columnName="analise_id"
                             tableName="analise_compartilhada"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-22">
      <dropNotNullConstraint columnDataType="boolean" columnName="bloqueado" tableName="analise"/>
      <dropDefaultValue columnDataType="boolean" columnName="bloqueado" tableName="analise"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-23">
      <dropNotNullConstraint columnDataType="bigint"
                             columnName="contratos_id"
                             tableName="manual_contrato"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-24">
      <dropNotNullConstraint columnDataType="varchar(255)"
                             columnName="description"
                             tableName="jhi_authority"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-25">
      <dropNotNullConstraint columnDataType="boolean"
                             columnName="enviar_baseline"
                             tableName="analise"/>
      <dropDefaultValue columnDataType="boolean"
                        columnName="enviar_baseline"
                        tableName="analise"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-26">
      <dropNotNullConstraint columnDataType="bigint"
                             columnName="equipe_id"
                             tableName="analise_compartilhada"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-27">
      <dropNotNullConstraint columnDataType="varchar(255)"
                             columnName="equipe_nome"
                             tableName="analise_compartilhada"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-28">
      <dropNotNullConstraint columnDataType="bigint"
                             columnName="manual_id"
                             tableName="manual_contrato"/>
   </changeSet>
   <changeSet author="basis (generated)" id="1581538507561-29">
      <dropNotNullConstraint columnDataType="boolean"
                             columnName="view_only"
                             tableName="analise_compartilhada"/>
      <dropDefaultValue columnDataType="boolean"
                        columnName="view_only"
                        tableName="analise_compartilhada"/>
   </changeSet>
</databaseChangeLog>
